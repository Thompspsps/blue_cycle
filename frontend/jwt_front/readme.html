<ol start="1" class="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col ms-5 marker:normal-nums marker:text-sm-strong"><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class=""><strong>Funzione </strong><code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">login</code>:</span></p><ul class="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col ms-4 px-1"><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Effettua una richiesta POST al server con le credenziali dell'utente.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Memorizza i token di accesso e di refresh ricevuti dal server nel <code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">localStorage</code> del browser.</span></p></li></ul></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class=""><strong>Funzione </strong><code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">refreshAccessToken</code>:</span></p><ul class="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col ms-4 px-1"><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Estrae il token di refresh dal <code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">localStorage</code>.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Invia una richiesta POST al server con il token di refresh per ottenere un nuovo token di accesso.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Memorizza il nuovo token di accesso nel <code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">localStorage</code> e lo restituisce.</span></p></li></ul></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class=""><strong>Funzione </strong><code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">fetchProtectedData</code>:</span></p><ul class="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col ms-4 px-1"><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Estrae il token di accesso dal <code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">localStorage</code>.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Effettua una richiesta GET all'endpoint protetto utilizzando il token di accesso.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Se la richiesta risponde con 401 (Unauthorized), significa che il token Ã¨ scaduto, quindi ottiene un nuovo token di accesso e ripete la richiesta.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Restituisce i dati ricevuti dal server.</span></p></li></ul></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class=""><strong>Funzione </strong><code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">logout</code>:</span></p><ul class="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col ms-4 px-1"><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Rimuove i token di accesso e di refresh dal <code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">localStorage</code>.</span></p></li></ul></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class=""><strong>Funzione </strong><code class="font-ligatures-none mx-0.5 rounded-[4px] border border-stroke-300 bg-spot-peach-200/50 px-1 py-px font-mono text-foreground-800 text-sm dark:bg-midnight-900" style="opacity: 1; will-change: opacity;">main</code>:</span></p><ul class="relative list-outside marker:text-foreground-750 dark:marker:text-foreground-600 flex flex-col ms-4 px-1"><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Gestisce il flusso principale di autenticazione, recupero dei dati protetti e logout.</span></p></li><li class="ps-2" style="opacity: 1; will-change: opacity;"><p><span class="">Viene eseguita all'avvio del client per dimostrare il flusso completo di utilizzo dei token JWT.</span></p></li></ul></li></ol>